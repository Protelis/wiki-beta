<!DOCTYPE html>
<html lang="en">
<head>




<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
<meta name="generator" content="Orchid 0.17.5"/>
<link rel="icon" href="http://localhost:8080/favicon.ico">


<meta name="robots" content="index, follow">



<title>Using Cognitive Agents</title>


<meta name="description" content="Practical aggregate programming.">



<link rel="prev" href="http://localhost:8080/wiki/usage/indoor">


<link rel="next" href="http://localhost:8080/wiki/usage/smartcam">


<script>
    window.site = {"orchidVersion":"0.17.5","baseUrl":"http://localhost:8080","environment":"debug","version":"13.0.3-dev18+2bb83c70"};
</script>





<!-- start:debug info -->

<!-- THEME -->
<!-- Type: BsDoc -->
<!-- Class: com.eden.orchid.bsdoc.BSDocTheme -->

<!-- PAGE -->
<!-- Type: wiki -->
<!-- Class: com.eden.orchid.wiki.pages.WikiPage -->
<!-- Layout: index -->
<!-- Resolved Layout: templates/layouts/index.peb -->
<!-- Page Template: wiki, page -->
<!-- Resolved Page Template:  -->

<!-- RESOURCE -->
<!-- Class: com.eden.orchid.api.resources.resource.FileResource -->
<!-- Source Filename: wiki/usage/cognitive-agents.md -->

<!-- COMPLETE PAGE CONFIGURATION -->
<script>
    window.allData = {"reference":{"path":"wiki/usage","baseUrl":"http://localhost:8080","fileName":"cognitive-agents","extension":"html","usePrettyUrl":true,"link":"http://localhost:8080/wiki/usage/cognitive-agents"},"next":{"path":"wiki/usage","baseUrl":"http://localhost:8080","fileName":"smartcam","extension":"html","usePrettyUrl":true,"link":"http://localhost:8080/wiki/usage/smartcam"},"previous":{"path":"wiki/usage","baseUrl":"http://localhost:8080","fileName":"indoor","extension":"html","usePrettyUrl":true,"link":"http://localhost:8080/wiki/usage/indoor"},"description":"","title":"Using Cognitive Agents"};
</script>

<!-- end:debug info -->



<!-- start:inject styles -->
<link rel="stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css"/>
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.0/gh-fork-ribbon.min.css"/>
<link rel="stylesheet" type="text/css" href="http://localhost:8080/BsDoc/447b9123/assets/css/bsdoc.css"/>
<link rel="stylesheet" type="text/css" href="http://localhost:8080/assets/css/pygments.css"/>
<link rel="stylesheet" type="text/css" href="https://rawgit.com/PrismJS/prism-themes/master/themes/prism-ghcolors.css"/>
<!-- end:inject styles -->


</head>
<body>




<a class="github-fork-ribbon left-top"
   href="https://github.com/Protelis/Protelis"
   title="Fork me on GitHub">Fork me on GitHub</a>


<header class="navbar navbar-fixed-top bs-docs-nav">
    <div class="container">
        <div class="navbar-header" role="banner">
            <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://localhost:8080">Protelis: the language for aggregate computing</a>
        </div>
        <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
            <ul class="nav navbar-nav navbar-right">
                
                    
                        <li><a href="http://localhost:8080">Home</a></li>
                    
                
                    
                        <li><a href="">Documentation</a></li>
                    
                
                    
                        <li><a href="http://localhost:8080/wiki/quickstart">Quick start</a></li>
                    
                
                    
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Tutorials<span class="caret"></span></a>
                            <ul class="dropdown-menu scrollable-menu">
                                
                                    <li><a href="http://localhost:8080/wiki/tutorials/alchemist">Simulations with Alchemist</a></li>
                                
                            </ul>
                        </li>
                    
                
                    
                        <li><a href="http://localhost:8080/wiki/language">Undestand</a></li>
                    
                
                    
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">understand<span class="caret"></span></a>
                            <ul class="dropdown-menu scrollable-menu">
                                
                                    <li><a href="http://localhost:8080/wiki/understand/basics">Aggregate programming basics</a></li>
                                
                                    <li><a href="http://localhost:8080/wiki/understand/architecture">Protelis&#39; architecture</a></li>
                                
                                    <li><a href="http://localhost:8080/wiki/understand/syntax">Upgrade guide</a></li>
                                
                            </ul>
                        </li>
                    
                
                    
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Use<span class="caret"></span></a>
                            <ul class="dropdown-menu scrollable-menu">
                                
                                    <li><a href="http://localhost:8080/wiki/usage/installation">Requirements and installation</a></li>
                                
                                    <li><a href="http://localhost:8080/wiki/usage/quickstart">Quick start</a></li>
                                
                                    <li><a href="http://localhost:8080/wiki/usage/gui">Alchemist graphical interface</a></li>
                                
                                    <li><a href="http://localhost:8080/wiki/usage/biochemistry">Alchemist biochemistry incarnation</a></li>
                                
                                    <li><a href="http://localhost:8080/wiki/usage/protelis">Alchemist Protelis incarnation</a></li>
                                
                                    <li><a href="http://localhost:8080/wiki/usage/sapere">SAPERE</a></li>
                                
                                    <li><a href="http://localhost:8080/wiki/usage/scafi">Scafi</a></li>
                                
                                    <li><a href="http://localhost:8080/wiki/usage/indoor">Simulation of indoor environments</a></li>
                                
                                    <li><a href="http://localhost:8080/wiki/usage/cognitive-agents">Using Cognitive Agents</a></li>
                                
                                    <li><a href="http://localhost:8080/wiki/usage/smartcam">With Smart Cameras</a></li>
                                
                                    <li><a href="http://localhost:8080/wiki/usage/maps">Maps and GPS traces</a></li>
                                
                                    <li><a href="http://localhost:8080/wiki/usage/export">Exporting data</a></li>
                                
                                    <li><a href="http://localhost:8080/wiki/usage/batch">Executing batches</a></li>
                                
                                    <li><a href="http://localhost:8080/wiki/usage/grid">Grid computing support</a></li>
                                
                                    <li><a href="http://localhost:8080/wiki/usage/customization">Writing custom components</a></li>
                                
                                    <li><a href="http://localhost:8080/wiki/usage/issues">Troubleshooting and known issues</a></li>
                                
                            </ul>
                        </li>
                    
                
                    
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Simulation examples<span class="caret"></span></a>
                            <ul class="dropdown-menu scrollable-menu">
                                
                                    <li><a href="http://localhost:8080/wiki/examples/protelis">With Protelis</a></li>
                                
                                    <li><a href="http://localhost:8080/wiki/examples/scafi">With Scafi</a></li>
                                
                                    <li><a href="http://localhost:8080/wiki/examples/maps">On maps</a></li>
                                
                            </ul>
                        </li>
                    
                
                    
                        <li><a href="http://localhost:8080/wiki/license">License</a></li>
                    
                
            </ul>
        </nav>
    </div>
</header>


<div id="top"></div>


    <div class="bs-docs-masthead" id="jumbotron">
        <div class="container">
            <h1 class="home-title">Using Cognitive Agents</h1>
        </div>
    </div>


<div class="container bs-docs-container">
    <div class="row">
        <div class="col-md-9" role="main">
        <nav aria-label="breadcrumb">
    <ul class="breadcrumb">
    
    
        <li class="breadcrumb-item"><a href="http://localhost:8080/wiki">Wiki</a></li>
    
    
    
        <li class="breadcrumb-item active" aria-current="page">Using Cognitive Agents</li>
    
    
    </ul>
</nav>
        

        
        
            
    <!-- start:inject components -->
    
        
            
                
                    
                        <h3 id="prerequisites">Prerequisites</h3>
<p>This guide assumes you already know the Alchemist metamodel and how to write simulations in YAML.</p>
<h3 id="cognitive-agent">Cognitive Agent</h3>
<p>A cognitive agent is a pedestrian inside the simulation who has an emotional state thanks to it is able
to influence and to be influenced by the other people with the same capabilities in the environment.</p>
<h3 id="types-of-agent">Types of Agent</h3>
<p>The characteristics of the agents loadable in a simulation can be chosen from three available types,
each representing a more refined version of the previous one.</p>
<h4 id="homogeneous-pedestrian">Homogeneous Pedestrian</h4>
<p>Homogeneous pedestrians are a particular type of <em>Node</em> which have no peculiar characteristic each other.
It is the most common type of agent which can be load in a simulation.</p>
<pre><code class="language-yaml">displacements:
  - in:
      type: Circle
      parameters: [100, 0, 0, 20]
    nodes:
      type: HomogeneousPedestrian2D
</code></pre>
<h4 id="heterogeneous-pedestrian">Heterogeneous Pedestrian</h4>
<p>Heterogeneous pedestrians are <em>Nodes</em> who have a given sex and gender, based on which their speed, compliance
and social attitudes are computed.
The kinds of age which can be used are: <em>child</em>, <em>adult</em>, <em>elderly</em>; alternatively you can specify the exact age as a number.
The kinds of sex available are: <em>male</em>, <em>female</em>.</p>
<pre><code class="language-yaml">displacements:
  - in:
      type: Circle
      parameters: [50, 0, 0, 20]
    nodes:
      type: HeterogeneousPedestrian2D
      parameters: [&quot;elderly&quot;, &quot;female&quot;]
  - in:
      type: Circle
      parameters: [50, 0, 0, 20]
    nodes:
      type: HeterogeneousPedestrian2D
      parameters: [&quot;child&quot;, &quot;male&quot;]
</code></pre>
<h4 id="cognitive-pedestrian">Cognitive Pedestrian</h4>
<p>A cognitive pedestrian is the most refined type of agent currently present in Alchemist. It is an heterogeneous pedestrian
with cognitive capabilities.
For instance, cognitive pedestrians can perceive fear, not just directly but by contagion (seeing other people fleeing may make them flee as well).</p>
<pre><code class="language-yaml">reactions: &amp;behavior
  - time-distribution:
      type: DiracComb
      parameters: [1.0]
    type: CognitiveBehavior

displacements:
  - in:
      type: Circle
      parameters: [50, 0, 0, 20]
    nodes:
      type: CognitivePedestrian2D
      parameters: [&quot;adult&quot;, &quot;male&quot;]
    programs:
      - *behavior
  - in:
      type: Circle
      parameters: [50, 0, 0, 20]
    nodes:
      type: CognitivePedestrian2D
      parameters: [&quot;adult&quot;, &quot;female&quot;]
    programs:
      - *behavior
</code></pre>
<h3 id="groups">Groups</h3>
<p>It is likely that a pedestrian doesn't move on its own, but there is a group consisting of multiple people
which are related each other and whose behaviors are strictly dependant on that structure.
The only way you can currently assign a group to a pedestrian is by creating it as a variable and passing it
as a parameter when the <em>Nodes</em> created are of pedestrian type. If you don't specify any group in this phase,
automatically a new group of type Alone is assigned.</p>
<p>The following simulation example loads two groups of homogeneous pedestrians representing friends around the center of the scene, one having 10 members and the other 15.</p>
<pre><code class="language-yaml">incarnation: protelis

variables:
  group1: &amp;group1
    formula: it.unibo.alchemist.model.implementations.groups.Friends&lt;Any&gt;()
    language: kotlin
  group2: &amp;group2
    formula: it.unibo.alchemist.model.implementations.groups.Friends&lt;Any&gt;()
    language: kotlin

displacements:
  - in:
      type: Circle
      parameters: [10, 0, 0, 20]
    nodes:
      type: HomogeneousPedestrian2D
      parameters: [*group1]
  - in:
      type: Circle
      parameters: [15, 0, 0, 20]
    nodes:
      type: HomogeneousPedestrian2D
      parameters: [*group2]
</code></pre>
<h3 id="steering-actions">Steering Actions</h3>
<p>A pedestrian that doesn't move is not a pedestrian. The need of <em>Actions</em> which can make it move in a realistic way
inside the environment lead to the creation of particular behaviors such as <em>Flee</em>, <em>Wander</em>, <em>FollowFlowField</em>, <em>ObstacleAvoidance</em>... <br />
As a potential part of a group, there must exist also some attitudes typical of this sort of formation such as <em>Cohesion</em> and <em>Separation</em>.
The creation of complex movements can be accomplished by combining different steering actions together. <br />
The only way currently available to do so, it is to use some <em>SteeringBehavior</em> extending <em>Reaction</em>, which can recognize, across all the actions specified, the steering ones
to trait them in a separate way.</p>
<p>In this simulation 50 people wander around the environment and if they are approaching an obstacle they avoid it.</p>
<pre><code class="language-yaml">incarnation: protelis

environment:
  type: ImageEnvironment
  parameters: [...]

reactions: &amp;behavior
  - time-distribution:
      type: DiracComb
      parameters: [3.0]
    type: PrioritySteering
    actions:
      - type: RandomRotate
      - type: Wander
        parameters: [6, 4]
      - type: ObstacleAvoidance
        parameters: [4]

displacements:
  - in:
      type: Circle
      parameters: [50, 0, 0, 25]
    nodes:
      type: HomogeneousPedestrian2D
</code></pre>
<h3 id="steering-strategies">Steering Strategies</h3>
<p>In order to decide the logic according to which the different steering actions must be combined,
the concept of steering strategy has been introduced and related to it different reactions are available to be used
with the aim of computing the desired route for the pedestrians.
If you want a pedestrian to execute a single steering action at a time, <em>PrioritySteering</em> is a reaction
which gives relevance only to the steering action whose target point is the nearest to the current pedestrian position.
If you want a pedestrian to execute a movement considering multiple actions at a time, <em>BlendedSteering</em> weights them
considering their target distance to the current pedestrian position.
There is no limit to the number of steering actions which can be used together but some messy compositions
can result in unpredictable behaviors, so pay attention.</p>
<p>In the example below a pedestrian reaches a point of interest, avoiding in the meantime to approach another position.</p>
<pre><code class="language-yaml">incarnation: protelis

environment:
  type: Continuous2DEnvironment

reactions: &amp;behavior
  - time-distribution:
      type: DiracComb
      parameters: [1.0]
    type: BlendedSteering
    actions:
      - type: Seek
        parameters: [1000, 500]
      - type: Flee
        parameters: [500, -500]

displacements:
  - in:
      type: Point
      parameters: [0, 0]
    nodes:
      type: HomogeneousPedestrian2D
    programs:
      - *behavior
</code></pre>
<h3 id="evacuation-scenarios">Evacuation Scenarios</h3>
<p>Pedestrians can be loaded in any kind of <em>Environment</em> but it is recommended to use <em>PhysicsEnvironments</em> since they
have properties such as non-overlapping shapes which are advisable to be taken into consideration
when working with a crowd.
To specify the existence of a potential danger or a significative zone in general inside the environment you can use <em>Layers</em>.
Each layer is associated to a <em>Molecule</em> different from the one of all the others.
You must specify to any cognitive pedestrian the <em>Molecule</em> representing danger in the <em>Environment</em>,
otherwise it won't have the ability to recognize the presence of it.</p>
<p>In the following example 100 adult females with cognitive capabilities get away from a zone in the environment where
there is a potential danger.</p>
<pre><code class="language-yaml">incarnation: protelis

variables:
  danger: &amp;danger
    formula: &quot;\&quot;danger\&quot;&quot;

environment:
  type: Continuous2DEnvironment

layers:
  - type: BidimensionalGaussianLayer
    molecule: *danger
    parameters: [0.0, 0.0, 20.0, 15.0]

reactions: &amp;behavior
  - time-distribution:
      type: DiracComb
      parameters: [1.0]
    type: PrioritySteering
    actions:
      - type: AvoidFlowField
        parameters: [*danger]

displacements:
  - in:
      type: Circle
      parameters: [100, 0, 0, 50]
    nodes:
      type: CognitivePedestrian2D
      parameters: [&quot;adult&quot;, &quot;female&quot;, *danger]
    programs:
      - *behavior
</code></pre>
<h3 id="further-references">Further references</h3>
<p><a href="https://doi.org/10.1007/978-3-319-70647-4_11">C. Natalie van der Wal, Daniel Formolo, Mark A. Robinson, Michael Minkov, Tibor Bosse<br />
Simulating Crowd Evacuation with Socio-Cultural, Cognitive, and Emotional Elements<br />
Transactions on Computational Collective Intelligence XXVII. 2017.</a></p>
<p><a href="http://citeseer.ist.psu.edu/viewdoc/summary?doi=10.1.1.16.8035">Craig W. Reynolds<br />
Steering Behaviors for Autonomous Characters. 1999.</a></p>

                    
                
            
        
            
        
    
    <!-- end:inject components -->


        
        </div>

        <!-- Page navigation
        =========================================== -->
        <div class="col-md-3" role="complementary">
        <div class="bs-docs-sidebar hidden-print" id="bs-docs-sidebar">
    

    <ul class="nav bs-docs-sidenav">
        
    </ul>

    
    <!-- start:inject components -->
    
    <!-- end:inject components -->



    <a class="back-to-top" href="#top">
        <i class="glyphicon glyphicon-chevron-up"></i> Back to top
    </a>
</div>

        </div>
    </div>
</div>


<div id="footer">
    <div class="container bs-docs-container">
    <footer class="bs-docs-footer" role="contentinfo">
    <div class="row">
        <div class="col-xs-12">
            <nav aria-label="navigateClasses">
                <ul class="pager">
                    
                        <li class="previous">
                            <a href="http://localhost:8080/wiki/usage/indoor">
                                <span aria-hidden="true">&larr;</span>
                                <span>Simulation of indoor environments</span>
                            </a>
                        </li>
                    

                    
                        <li class="next">
                            <a href="http://localhost:8080/wiki/usage/smartcam">
                                <span>With Smart Cameras</span>
                                <span aria-hidden="true">&rarr;</span>
                            </a>
                        </li>
                    
                </ul>
            </nav>
        </div>
    </div>
    <div class="icons">
    
    
        <a href="https://github.com/Protelis/Protelis" class="fa fa-github"></a>
    
    
    </div>
    <br>
    <p>
    Documentation template based on the
    <a href="https://github.com/mistic100/jekyll-bootstrap-doc">Jekyll Bootstrap Doc</a>
    Jekyll theme by the <a href="https://getbootstrap.com">Bootstrap team</a>. Site created with
    <a href="https://orchid.netlify.com">Orchid</a>.
</p>

<ul class="bs-docs-footer-links muted">
    <li>Currently 13.0.3-dev18+2bb83c70</li>
</ul>

</footer>
    </div>
</div>


<!-- start:inject scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://netdna.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/4.3.0/bootbox.min.js"></script>
<script src="http://localhost:8080/BsDoc/447b9123/assets/js/bsdoc.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.8.4/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.8.4/components/prism-kotlin.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.8.4/components/prism-java.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.8.4/components/prism-groovy.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.8.4/components/prism-yaml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.8.4/components/prism-asciidoc.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.8.4/components/prism-markdown.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.8.4/components/prism-python.min.js"></script>
<!-- end:inject scripts -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.4.11/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/trianglify/1.2.0/trianglify.min.js"></script>

<script>
    $(function () {
        window.colors = ['#2299d8', '#000000'];
                  
    trianglify({});

        buildNav();
    });
</script>

</body>
</html>